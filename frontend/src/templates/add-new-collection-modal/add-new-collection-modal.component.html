<div class="dialog">
  <ion-fab-button class="bottom-banner-button" (click)="addNewDataset()" color="danger"><ion-icon name="add"></ion-icon></ion-fab-button>
  <form [formGroup]="form" (ngSubmit)="createNewCollection()">
    <h1 mat-dialog-title style="text-align: center; margin-bottom: 0">Create a new Collection</h1>
    <div mat-dialog-content class="dialog-content">
      <ion-item>
        <ion-input required placeholder="Enter the title of the collection" type="text" formControlName="collectionTitle"></ion-input>
      </ion-item>
      <div formArrayName="datasets" *ngFor="let arrayItem of arrayItems; let i = index" class="dataset-repeater">
        <ion-item style="width: 90%; margin: auto">
          <ion-input style="width: 50%" type="text" [formControl]="datasets.controls[i]" [value]="arrayItem.title" readonly></ion-input>
          <ion-label class="array-item-title"> {{ arrayItem.dataType }}</ion-label>
        </ion-item>
      </div>
      <div class="collection-description">
        <textarea
          style="width: 95%"
          placeholder="A detailed description of your goal."
          formControlName="collectionDescription"
          cdkTextareaAutosize
          cdkAutosizeMinRows="1"
          cdkAutosizeMaxRows="3"
        ></textarea>
      </div>
    </div>
    <div mat-dialog-actions class="action-buttons">
      <ion-button size="small" color="success" type="submit" [disabled]="form.invalid">Save</ion-button>
      <ion-button size="small" color="warning" type="button" (click)="discardChanges()">Discard All!</ion-button>
    </div>
  </form>
</div>
